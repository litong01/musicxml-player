<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
    <title>MusicXML Player</title>
    <style>
      body {
        background-color: wheat;
        overflow-x: none;
      }
      .hide {
        display: none;
      }
      #player {
        position: fixed;
        bottom: 0;
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        pointer-events: none;
      }
      .player {
        font-size: larger;
        margin: 5px;
        height: 35px;
        width: 35px;
        pointer-events: auto;
      }
      #error {
        background-color: brown;
        color: lightgray;
      }
      #sheet-container {
        height: 50vh;
      }
      #audio-offset {
        width: 5em;
      }
    </style>
    <link rel="stylesheet" href="build/musicxml-player.css">
    <script type="module" src="demo.mjs"></script>
  </head>
  <body>
    <h1>MusicXML Player</h1>
    <div>
      <label for="samples">Choose a sample from the list here</label>&nbsp;
      <select id="samples">
        <option value="">-- Choose --</option>
        <option data-renderer="vrv" data-converter="midi" value="data/salma-ya-salama.mxl">Salma ya Salama (Compressed MusicXML)</option>
        <option data-renderer="vrv" data-converter="midi" value="data/asa-branca.musicxml">Asa Branca (Uncompressed MusicXML)</option>
        <option data-renderer="mscore" data-converter="mscore"  value="data/tutorial-apres-un-reve.musicxml">Après un rêve (MuseScore Static Rendering)</option>
        <option data-renderer="vrv" data-converter="vrv" value="data/maqam-rast.musicxml">Maqam Rast (Microtonal MusicXML)</option>
        <option data-renderer="vrvs" data-converter="vrvs" value="data/blackwood-ex-29.musicxml">Easley Blackwood's Ex. 29 (Microtonal MusicXML / Verovio Static Rendering)</option>
        <option data-renderer="mscore" data-converter="mscore" value="data/shumays.musicxml">Sami Abu Shumays Lesson Intro (Microtonal MusicXML / MuseScore Static Rendering)</option>
        <option data-renderer="vrv" data-converter="vrv" value="data/sagittal.musicxml">A Musical Example in Sagittal Notation (Microtonal MusicXML with SMuFL glyphs)</option>
        <option data-renderer="vrv" data-converter="midi" value="data/baiao-miranda.musicxml">Baião Groove (Rhythm MusicXML)</option>
        <option data-renderer="vrv" data-converter="mma" value="data/jazz1460.txt">Playlist: Jazz 1460 (iReal Pro)</option>
      </select>
    </div>

    <div>
      <label for="upload">Or upload MusicXML (+ optional MIDI file)</label>&nbsp;
      <input type="file" id="upload" name="upload" multiple accept=".musicxml,.mxl,.xml,.mid"/>
      <span id="error"></span>
      <br><small style="color: #666;">Tip: Upload both .musicxml and .mid for best results with percussion notes</small>
    </div>

    <div>
      <label for="ireal">Or paste an iReal Pro song URI directly</label>&nbsp;
      <input type="text" size="50" id="ireal" name="ireal" placeholder="irealb://... or irealbook://..."/>
    </div>

    <div>
      <span id="download-musicxml"></span>
      <span id="download-midi"></span>
    </div>

    <div>
      Renderer
      <input type="radio" id="renderer-vrv" name="renderer" value="vrv"/>
      <label for="renderer-vrv">Verovio</label>
      <input type="radio" id="renderer-osmd" name="renderer" value="osmd"/>
      <label for="renderer-osmd">OpenSheetMusicDisplay</label>
    </div>



    <div>
      <label for="velocity">Velocity</label>
      <input type="number" id="velocity" name="velocity" value="1" min="0.25" max="2" step="0.25"/>
      <label for="repeat">Repeat</label>
      <select id="repeat" name="repeat">
        <option value="0">No</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="-1">∞</option>
      </select> times
    </div>

    <div>
      <input type="checkbox" class="option" id="option-mute" value="mute"/>
      <label for="option-mute">Mute</label>
    </div>

    <!-- <div>
      <label for="audio-file">Audio track (.mp3, .ogg)</label>
      <input type="file" id="audio-file" name="upload" accept="audio/mpeg, audio/ogg"/>
      <label for="audio-offset">Audio offset</label>
      <input type="number" id="audio-offset" name="audio-offset" value="0" step="50" disabled/> ms.
      <div>
        <audio id="audio-track"></audio>
      </div>
    </div> -->

    <div id="player">
      <button class="player" id="rewind">⏮</button>
      <button class="player" id="pause">⏸</button>
      <button class="player" id="play">▶</button>
    </div>

    <div id="sheet-container"></div>
  </body>
</html>
